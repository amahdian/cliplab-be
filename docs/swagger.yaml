definitions:
  model.Language:
    enum:
    - en
    - fa
    type: string
    x-enum-varnames:
    - LanguageEnglish
    - LanguageFarsi
  model.User:
    properties:
      defaultLanguage:
        $ref: '#/definitions/model.Language'
      email:
        type: string
      id:
        type: string
      isVerified:
        type: boolean
      name:
        type: string
      profileImage:
        type: string
    type: object
  msg.Message:
    properties:
      level:
        $ref: '#/definitions/msg.MessageLevel'
      text:
        type: string
    type: object
  msg.MessageGroup:
    properties:
      group:
        type: string
      messages:
        items:
          $ref: '#/definitions/msg.Message'
        type: array
    type: object
  msg.MessageLevel:
    enum:
    - 0
    - 1
    - 2
    - 3
    type: integer
    x-enum-varnames:
    - Fatal
    - Error
    - Warning
    - Info
  req.Login:
    properties:
      email:
        type: string
    required:
    - email
    type: object
  req.UserUpdate:
    properties:
      defaultLanguage:
        allOf:
        - $ref: '#/definitions/model.Language'
        enum:
        - en
        - fa
      name:
        maxLength: 100
        minLength: 2
        type: string
    type: object
  req.Verify:
    properties:
      email:
        type: string
      otp:
        type: string
    required:
    - email
    - otp
    type: object
  resp.ErrorResponse:
    properties:
      error:
        type: string
      messages:
        items:
          $ref: '#/definitions/msg.MessageGroup'
        type: array
      success:
        default: false
        type: boolean
    type: object
  resp.HealthResponseDto:
    properties:
      appName:
        type: string
      appVersion:
        type: string
    type: object
  resp.Response-bool:
    properties:
      data:
        type: boolean
      messages:
        items:
          $ref: '#/definitions/msg.MessageGroup'
        type: array
      success:
        default: true
        type: boolean
    type: object
  resp.Response-model_User:
    properties:
      data:
        $ref: '#/definitions/model.User'
      messages:
        items:
          $ref: '#/definitions/msg.MessageGroup'
        type: array
      success:
        default: true
        type: boolean
    type: object
  resp.Response-resp_VerifyResponse:
    properties:
      data:
        $ref: '#/definitions/resp.VerifyResponse'
      messages:
        items:
          $ref: '#/definitions/msg.MessageGroup'
        type: array
      success:
        default: true
        type: boolean
    type: object
  resp.VerifyResponse:
    properties:
      defaultLanguage:
        $ref: '#/definitions/model.Language'
      email:
        type: string
      name:
        type: string
      token:
        type: string
    type: object
info:
  contact: {}
  description: Swagger documentation for the AI Assistant's RESTful API.
  title: AI Assistant
  version: 0.0.1
paths:
  /api/health:
    get:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/resp.HealthResponseDto'
      summary: health check
      tags:
      - Public
  /api/server-time:
    get:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
      summary: getServerTime
      tags:
      - Public
  /api/v1/user:
    put:
      consumes:
      - application/json
      description: Allows an authenticated user to update their profile information,
        such as name, email, and default language. This is a partial update operation.
      parameters:
      - description: User update data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/req.UserUpdate'
      produces:
      - application/json
      responses:
        "200":
          description: Indicates successful update
          schema:
            $ref: '#/definitions/resp.Response-bool'
        "400":
          description: Bad request, e.g., invalid UUID or JSON payload
          schema:
            $ref: '#/definitions/resp.ErrorResponse'
        "401":
          description: Unauthorized, user ID in path does not match authenticated
            user
          schema:
            $ref: '#/definitions/resp.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/resp.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/resp.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Update user profile
      tags:
      - User
  /api/v1/user/login:
    post:
      consumes:
      - application/json
      description: Sends a one-time password (OTP) to the provided phone number to
        initiate the login process.
      parameters:
      - description: User's phone number
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/req.Login'
      produces:
      - application/json
      responses:
        "200":
          description: Indicates successful OTP delivery
          schema:
            $ref: '#/definitions/resp.Response-bool'
        "400":
          description: Bad request, e.g., invalid phone number format
          schema:
            $ref: '#/definitions/resp.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/resp.ErrorResponse'
      summary: Login with phone number
      tags:
      - Authentication
  /api/v1/user/me:
    get:
      consumes:
      - application/json
      description: Retrieves the authenticated user's profile information.
      produces:
      - application/json
      responses:
        "200":
          description: User profile data
          schema:
            $ref: '#/definitions/resp.Response-model_User'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/resp.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/resp.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/resp.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Get current user profile
      tags:
      - User
  /api/v1/user/verify:
    post:
      consumes:
      - application/json
      description: Verifies the one-time password sent to the user's phone number.
        On successful verification, it returns an authentication token.
      parameters:
      - description: Phone number and OTP
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/req.Verify'
      produces:
      - application/json
      responses:
        "200":
          description: Authentication token and user details
          schema:
            $ref: '#/definitions/resp.Response-resp_VerifyResponse'
        "400":
          description: Bad request, e.g., invalid OTP format or missing data
          schema:
            $ref: '#/definitions/resp.ErrorResponse'
        "401":
          description: Unauthorized, e.g., invalid or expired OTP
          schema:
            $ref: '#/definitions/resp.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/resp.ErrorResponse'
      summary: Verify OTP and authenticate
      tags:
      - Authentication
  /api/v1/ws:
    get:
      description: |-
        Upgrades the HTTP connection to a WebSocket connection for real-time, bidirectional communication.
        This endpoint is used for sending server-side events, such as chat title updates.
      produces:
      - application/json
      responses:
        "101":
          description: Switching Protocols
        "401":
          description: Unauthorized
        "500":
          description: Internal Server Error
      security:
      - ApiKeyAuth: []
      summary: Establish WebSocket connection
      tags:
      - WebSocket
securityDefinitions:
  Bearer:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
